<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="referrer" content="no-referrer">
    <meta name="theme-color" content="#333333">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="google" content="notranslate">
    <meta name="format-detection" content="telephone=no">
    <meta name="keyword"  content="">
    <meta name="description" content="Try not to become a man of success but rather try to become a man of value. ">
    <title>在mac下pycharm配置autopep8 - kinzun</title>
    <base href="/">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="/icons/icon-72x72.png">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png">
    <link rel="stylesheet" href="/styles/sanitize.css">
<link rel="stylesheet" href="/styles/cold-stone.css">
    <noscript>
      <p class="text-center">你的浏览器还没开启 Javascript 功能！</p>
    </noscript>
</head>

  <body>
    

    <main class="main wrapper"><article class="article slide-in-right">
  <section>
    <h1 class="article-title">
      在mac下pycharm配置autopep8    </h1>
    <p class="article-meta">
      <span class="meta-info">
        LastUpdate：2018-10-12 20:22:52
        
          Tags：
          
            <a class="meta-tag" href="/tags/#Python" title="Python">Python</a>
          
        
      </span>
      <a  class="meta-link" href="/">返回</a>
    </p>
  </section>
  <section><h3 id="关于PEP-8"><a href="#关于PEP-8" class="headerlink" title="关于PEP 8"></a>关于PEP 8</h3><p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">PEP 8</a>，Style Guide for Python Code，是Python官方推出的Python编码风格的约定，虽然这不是硬性的规定，但是如果Python程序员都尽量遵循这个文档，那么编码风格的统一会让代码的可读性大大提升。</p>
<p>在Pycharm里边默认也是有进行PEP8的检测，强迫症的人表示，看到代码中有黄色波浪线，就一定得先改好它。</p>
<h3 id="关于autopep8"><a href="#关于autopep8" class="headerlink" title="关于autopep8"></a>关于autopep8</h3><p><a href="https://github.com/hhatto/autopep8#installation" target="_blank" rel="noopener">autopep8官网</a>的描述是：</p>
<blockquote>
<p>autopep8 automatically formats Python code to conform to the PEP 8 style guide. It uses the pep8 utility to determine what parts of the code needs to be formatted. autopep8 is capable of fixing most of the formatting issues that can be reported by pep8.</p>
</blockquote>
<p>通过它，可以修复大部分PEP8工具中报告的代码排版问题。举个官网的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def example1():</span><br><span class="line">    ####This is a long comment. This should be wrapped to fit within 72 characters.</span><br><span class="line">    some_tuple=(   1,2, 3,&apos;a&apos;  );</span><br><span class="line">    some_variable=&#123;&apos;long&apos;:&apos;Long code lines should be wrapped within 79 characters.&apos;,</span><br><span class="line">    &apos;other&apos;:[math.pi, 100,200,300,9876543210,&apos;This is a long string that goes on&apos;],</span><br><span class="line">    &apos;more&apos;:&#123;&apos;inner&apos;:&apos;This whole logical line should be wrapped.&apos;,some_tuple:[1,</span><br><span class="line">    20,300,40000,500000000,60000000000000000]&#125;&#125;</span><br><span class="line">    return (some_tuple, some_variable)</span><br></pre></td></tr></table></figure>
<p>这是一个比较极端情况的例子，在使用了autopep8自动修复后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def example1():</span><br><span class="line">    # This is a long comment. This should be wrapped to fit within 72 characters.</span><br><span class="line">    some_tuple = (1, 2, 3, &apos;a&apos;)</span><br><span class="line">    some_variable = &#123;&apos;long&apos;: &apos;Long code lines should be wrapped within 79 characters.&apos;,</span><br><span class="line">                     &apos;other&apos;: [math.pi, 100, 200, 300, 9876543210, &apos;This is a long string that goes on&apos;],</span><br><span class="line">                     &apos;more&apos;: &#123;&apos;inner&apos;: &apos;This whole logical line should be wrapped.&apos;, some_tuple: [1,</span><br><span class="line">                                                                                                  20, 300, 40000, 500000000, 60000000000000000]&#125;&#125;</span><br><span class="line">    return (some_tuple, some_variable)</span><br></pre></td></tr></table></figure>
<p>是不是看起来焕然一新了？</p>
<h3 id="Pycharm中使用autopep8作为扩展工具"><a href="#Pycharm中使用autopep8作为扩展工具" class="headerlink" title="Pycharm中使用autopep8作为扩展工具"></a>Pycharm中使用autopep8作为扩展工具</h3><h4 id="安装autopep8"><a href="#安装autopep8" class="headerlink" title="安装autopep8"></a>安装autopep8</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install autopep8</span><br></pre></td></tr></table></figure>
<h4 id="Pycharm进行设置"><a href="#Pycharm进行设置" class="headerlink" title="Pycharm进行设置"></a>Pycharm进行设置</h4><p><img src="/images/python/pycharmautopep8.png" alt="pycharmautopep8"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mac 在终端如何进入名称带空格的目录</span><br><span class="line"></span><br><span class="line">后来找到原因，是因为要对空格转义或者输入“ ”或‘ ’，方案如下：</span><br><span class="line"></span><br><span class="line">        <span class="number">1.</span> cd Appications/Android\Studio.app/sdk </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> cd Appications/Android<span class="string">' '</span>Studio.app/sdk</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> cd Appications/Android<span class="string">" "</span>Studio.app/sdk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">采取以上任意方式，都能进入目录！</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong> mac系统中，在图片变量位置加上双<code>“ ”</code> </p>
<ul>
<li>Settings–&gt;Tools–&gt;External Tools 点击添加按钮<ul>
<li>Name：autopep8（可以自定义）</li>
<li>Tools settings:</li>
<li>Programs：autopep8（不能修改）</li>
<li>Parameters：–in-place –aggressive –aggressive $FilePath$</li>
<li>Working directory：$ProjectFileDir$</li>
</ul>
</li>
<li>点击Output Files<ul>
<li>点击添加，名称可以任意填写</li>
<li>Regular expression to match output：$FILE_PATH$\:$LINE$\:$COLUMN$\:.*</li>
</ul>
</li>
</ul>
<h4 id="实际使用"><a href="#实际使用" class="headerlink" title="实际使用"></a>实际使用</h4><p>在右击上代码–&gt;External Tool–&gt;autopep8</p>
<p>Pycharm自动调用了autopep8对当前文件进行PEP8优化。</p>
<h3 id="autopep8的一些设置点"><a href="#autopep8的一些设置点" class="headerlink" title="autopep8的一些设置点"></a>autopep8的一些设置点</h3><p>在上边说到，在Parameters的设置是:–in-place –aggressive –aggressive $FilePath$</p>
<p>–in-place 代表会直接修改源文件</p>
<p>–aggressive autopep8默认只修复空白，对齐相关的PEP8问题，加入–aggressive设置，会增加修复如 x == None 修复为 x is None，{“a”: 1, “b”: 2}.has_key(‘a’) 修复为’a’ in {“a”: 1, “b”: 2}</p>
<p>–ignore 忽略PEP8检查项</p>
<p>因为我只打算用autopep8来修复空格，空行这一类的排版问题，同时要忽略每一行长度过长的检测（E501 - Try to make lines fit within –max-line-length characters.），所以最终设置是：</p>
<p>–in-place –ignore=E501 $FilePath$</p>
<p><a href="http://jianbing.github.io/2016/06/29/pycharm-autopep8/" target="_blank" rel="noopener">via</a></p>
<p><a href="https://github.com/hscgavin/autopep8-on-pycharm#autopep8-on-pycharm" target="_blank" rel="noopener">github</a></p>
<p><a href="https://github.com/hhatto/autopep8#installation" target="_blank" rel="noopener">autopep8</a></p>
</section>
</article>

<section class="card article-toc">
  <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#关于PEP-8"><span class="toc-text">关于PEP 8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关于autopep8"><span class="toc-text">关于autopep8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pycharm中使用autopep8作为扩展工具"><span class="toc-text">Pycharm中使用autopep8作为扩展工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#安装autopep8"><span class="toc-text">安装autopep8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pycharm进行设置"><span class="toc-text">Pycharm进行设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实际使用"><span class="toc-text">实际使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#autopep8的一些设置点"><span class="toc-text">autopep8的一些设置点</span></a></li></ol>
</section>

<section class="article slide-in-right">

  <div class="loader" id="loader">
    <svg viewBox="0 0 50 50">
      <circle class="ring" cx="25" cy="25" r="20"></circle>
      <circle class="ball" cx="25" cy="5" r="3.5"></circle>
    </svg>
  </div>

  <div class="comment" id="utteranc"></div>
  <noscript>为正常使用评论功能请激活 JavaScript</noscript>
</section>

<a class="card back-to-top" id="backTop">&UpArrow;</a>

</main>

    

    <script>
	window.COLD_STONE = {
	  repo: "kinzun/kinzun.github.io",
	  gaid: "xxxxxxxxxxxxxx"
	}
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/highlight.min.js"></script>
<script src="/scripts/cold-stone.js"></script>


  <script src="https://www.googletagmanager.com/gtag/js?id=xxxxxxxxxxxxxx"></script>

  <script>
	window.dataLayer = window.dataLayer || []
	function gtag() {
		dataLayer.push(arguments)
	}
	gtag('js', new Date())
	gtag('config', window.COLD_STONE.gaid)
  </script>


  </body>
</html>
